relations:
- - keystone:shared-db
  - mysql:shared-db
- - ceilometer
  - keystone:identity-service
- - ceilometer
  - rabbitmq-server
- - ceilometer
  - mongodb
series: xenial
services:
  ceilometer:
    charm: cs:ceilometer
    num_units: 1
    options:
      openstack-origin: cloud:xenial-ocata
  keystone:
    annotations:
      gui-x: '500'
      gui-y: '0'
    charm: cs:keystone
    num_units: 1
    options:
      worker-multiplier: 0.1
      openstack-origin: cloud:xenial-ocata
  mongodb:
    charm: cs:mongodb
    num_units: 1
  mysql:
    annotations:
      gui-x: '0'
      gui-y: '250'
    charm: cs:percona-cluster
    num_units: 1
    options:
      max-connections: 1000
      innodb-buffer-pool-size: 256M
  rabbitmq-server:
    annotations:
      gui-x: '500'
      gui-y: '250'
    charm: cs:rabbitmq-server
    num_units: 1
